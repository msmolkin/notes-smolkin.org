<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Navigating AI Music Generation: My Personal Exploration with MusicGen on Google Colab Anyone who knows me knows this: The one thing that I&rsquo;ve always beenâ€œ too lazy to do is write-ups."><meta property="og:title" content><meta property="og:description" content="Navigating AI Music Generation: My Personal Exploration with MusicGen on Google Colab Anyone who knows me knows this: The one thing that I&rsquo;ve always beenâ€œ too lazy to do is write-ups."><meta property="og:type" content="website"><meta property="og:image" content="https://notes.smolkin.org/icon.png"><meta property="og:url" content="https://notes.smolkin.org/2024-01-16-MusicGen-on-Google-Colab/"><meta property="og:width" content="200"><meta property="og:height" content="200"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Navigating AI Music Generation: My Personal Exploration with MusicGen on Google Colab Anyone who knows me knows this: The one thing that I&rsquo;ve always beenâ€œ too lazy to do is write-ups."><meta name=twitter:image content="https://notes.smolkin.org/icon.png"><meta name=twitter:site content="MichaelSmolkin"><title>ðŸ§  M's Musings</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://notes.smolkin.org//icon.png><link href=https://notes.smolkin.org/styles.19109a40042e9f0e72e952fda4442a34.min.css rel=stylesheet><link href=https://notes.smolkin.org/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://notes.smolkin.org/js/darkmode.c7ba66b6717fa2f16a94f2cd9928a34e.min.js></script>
<script src=https://notes.smolkin.org/js/util.00639692264b21bc3ee219733d38a8be.min.js></script>
<link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/core@1.2.1></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.2.1></script>
<script defer src=https://notes.smolkin.org/js/popover.aa9bc99c7c38d3ae9538f218f1416adb.min.js></script>
<script defer src=https://notes.smolkin.org/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://notes.smolkin.org/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://notes.smolkin.org/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://notes.smolkin.org/",fetchData=Promise.all([fetch("https://notes.smolkin.org/indices/linkIndex.337fd57d6f94cc1f066fd27e388f3413.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://notes.smolkin.org/indices/contentIndex.0a86f62774a02e63fd0d7ae2d89359d1.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://notes.smolkin.org",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://notes.smolkin.org",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()});function a(n){const e=n.target,t=e.className.split(" "),s=t.includes("broken"),o=t.includes("internal-link");plausible("Link Click",{props:{href:e.href,broken:s,internal:o,graph:!1}})}const r=document.querySelectorAll("a");for(link of r)link.className.includes("root-title")&&link.addEventListener("click",a,{once:!0})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'â€™':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/notes.smolkin.org\/js\/router.d6fe6bd821db9ea97f9aeefae814d8e7.min.js"
    attachSPARouting(init, render)
  </script><script defer data-domain=notes.smolkin.org src=https://plausible.io/js/script.js></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://notes.smolkin.org/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js></script><div class=singlePage><header><h1 id=page-title><a class=root-title href=https://notes.smolkin.org/>ðŸ§  M's Musings</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><p class=meta>Last updated
Unknown
<a href=https://github.com/msmolkin/notes.smolkin.org/tree/hugo/content/2024-01-16-MusicGen-on-Google-Colab.md rel=noopener>Edit Source</a></p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><ol><li><a href=#navigating-ai-music-generation-my-personal-exploration-with-musicgen-on-google-colab>Navigating AI Music Generation: My Personal Exploration with MusicGen on Google Colab</a></li></ol></li></ol></nav></details></aside><a href=#navigating-ai-music-generation-my-personal-exploration-with-musicgen-on-google-colab><h3 id=navigating-ai-music-generation-my-personal-exploration-with-musicgen-on-google-colab><span class=hanchor arialabel=Anchor># </span>Navigating AI Music Generation: My Personal Exploration with MusicGen on Google Colab</h3></a><p>Anyone who knows me knows this:
The one thing that I&rsquo;ve always beenâ€œ too lazy to do is write-ups. I do the work, but I never write it up. But how can I add it to my resume as even a pet project if I have nothing but the code to show for it? So I guess I&rsquo;ll have to at least have a model generate the mock-ups for the writing, and then I&rsquo;ll go over it if I&rsquo;m not too lazy. You know the reason I opened my computer tonight was just to get a certificate for a course I just finished on my phone today? And, well, you can see the result of opening my laptop, below&mldr;</p><p>Dive in (if you dare)!</p><p>PS: I guess I&rsquo;ll start reading through the model&rsquo;s work next time (and fine-tuning it on my own writing).
PPS: Feel free to ask me for the IPYNB file if you want it as a file, but here&rsquo;s a
<a href="https://colab.research.google.com/drive/1Txynj0NCp4QJK5vjU2LLRRmNwQBm_rVw?authuser=2" rel=noopener>link to the notebook it was downloaded from</a> (you should download a copy yourself, in File > Download, since you have access).</p><a href=#intro-discovering-musicgen-in-the-cloud><h4 id=intro-discovering-musicgen-in-the-cloud><span class=hanchor arialabel=Anchor># </span>Intro: Discovering MusicGen in the Cloud</h4></a><p>My latest personal project led me to the fascinating intersection of AI and music, specifically through MusicGen, an AI model for generating music. This exploration was conducted on Google Colab, a platform that became my go-to solution after various trials and errors in getting everything to work seamlessly.</p><a href=#setting-the-stage-in-the-cloud><h4 id=setting-the-stage-in-the-cloud><span class=hanchor arialabel=Anchor># </span>Setting the Stage in the Cloud</h4></a><p>Google Colab provided the ideal environment for this project, offering the necessary computational resources. The setup involved installing <code>audiocraft</code> to access MusicGen and importing crucial modules like <code>musicgen</code> from <code>audiocraft</code> and <code>torch</code>. This was akin to preparing my digital workspace for the task at hand.</p><a href=#engaging-with-the-ai-composer><h4 id=engaging-with-the-ai-composer><span class=hanchor arialabel=Anchor># </span>Engaging with the AI Composer</h4></a><p>I initiated the MusicGen model, opting for its &rsquo;large&rsquo; version, and set it to create a piece of music lasting 120 seconds. The experience of commanding an AI to generate music was both intriguing and empowering, revealing the capabilities of modern technology.</p><a href=#the-music-generation-saga><h4 id=the-music-generation-saga><span class=hanchor arialabel=Anchor># </span>The Music Generation Saga</h4></a><p>The actual process of generating music was an adventure in itself. Using prompts such as &lsquo;mozart fantasia&rsquo;, I steered the AI to produce music in specific styles. The <code>display_audio</code> function allowed me to listen to the AI-crafted compositions, adding an auditory dimension to the data.</p><a href=#trials-and-tribulations-resource-management><h4 id=trials-and-tribulations-resource-management><span class=hanchor arialabel=Anchor># </span>Trials and Tribulations: Resource Management</h4></a><p>My journey wasn&rsquo;t without its challenges. Initially, I attempted to generate five 8-second music pieces on a T4 CPU, which took 35 seconds. Attempts to create longer pieces led to timeouts and memory issues, revealing the limitations of the free version of Google Colab. I encountered an <code>OutOfMemoryError</code> due to insufficient GPU RAM, prompting me to delve into memory management within the Python and PyTorch frameworks.</p><a href=#overcoming-technical-hurdles><h4 id=overcoming-technical-hurdles><span class=hanchor arialabel=Anchor># </span>Overcoming Technical Hurdles</h4></a><p>My notes from this phase include a mixture of frustration and breakthroughs. There were moments when I pondered over the model&rsquo;s performance and its resource demands. To manage this, I used commands to clear memory, which I humorously noted might affect other users on the same GPU. Here, the technical aspect of the project became a learning curve in efficient coding and resource utilization.</p><a href=#final-success-generating-and-downloading-the-music><h4 id=final-success-generating-and-downloading-the-music><span class=hanchor arialabel=Anchor># </span>Final Success: Generating and Downloading the Music</h4></a><p>After navigating these challenges and waiting for access to Google Colab&rsquo;s T4 system, I managed to generate a single audio file, as detailed in the IPython notebook. The final step involved converting the audio data to a CPU-compatible format using <code>.cpu().numpy()</code>, playing it, and saving it as a WAV file. I then successfully located and downloaded this piece from Google Colab&rsquo;s environment, marking the completion of a significant personal achievement.</p><a href=#reflecting-on-my-ai-music-journey><h4 id=reflecting-on-my-ai-music-journey><span class=hanchor arialabel=Anchor># </span>Reflecting on My AI Music Journey</h4></a><p>This project was more than just an exploration of AI&rsquo;s role in music creation; it was a personal journey through the challenges and rewards of working with advanced technology. The process highlighted the blend of technical know-how and creative input required to produce AI-generated music.</p><a href=#closing-thoughts><h4 id=closing-thoughts><span class=hanchor arialabel=Anchor># </span>Closing Thoughts</h4></a><p>Engaging with MusicGen on Google Colab has been a rewarding experience, offering insights into the potentials and limitations of AI in creative domains. This journey has not only enhanced my understanding of AI and music but also emphasized the importance of patience and perseverance in the face of technical challenges.</p><p>Michael</p><hr><a href=#monetizing-ai-music-generation-the-next-big-step><h4 id=monetizing-ai-music-generation-the-next-big-step><span class=hanchor arialabel=Anchor># </span>Monetizing AI Music Generation: The Next Big Step</h4></a><p>As I reflect on my journey with MusicGen and the immense potential it holds, it becomes evident that there&rsquo;s a substantial opportunity here â€“ the chance to monetize this cutting-edge technology. Picture this: a dedicated platform, similar to audiogen.co, but for MusicGen. I&rsquo;m thinking of something along the lines of musicgen.co, musicgen.ai, or musicgen.io.</p><a href=#the-concept-a-user-friendly-ai-music-service><h4 id=the-concept-a-user-friendly-ai-music-service><span class=hanchor arialabel=Anchor># </span>The Concept: A User-Friendly AI Music Service</h4></a><p>The idea is simple yet powerful. Create a user-friendly interface where users input a prompt and the length of the piece they desire. With a click on &ldquo;Generate,&rdquo; they receive their unique AI-composed music piece. Imagine the convenience and the creative possibilities this would offer to users from various backgrounds, be it amateur music enthusiasts, content creators, or even professional musicians.</p><a href=#pricing-strategy-catering-to-all><h4 id=pricing-strategy-catering-to-all><span class=hanchor arialabel=Anchor># </span>Pricing Strategy: Catering to All</h4></a><p>To make this service accessible yet profitable, a tiered pricing strategy could be the key. Start with a free version that allows users to generate a single 8-second piece, giving them a taste of the model&rsquo;s capabilities. This approach mirrors the experience I had using the provided Colab notebook.</p><p>Then, introduce a paid version priced at $29.99/month, offering enhanced features like the ability to generate multiple pieces or longer compositions. For those on a tighter budget, a more affordable tier at $5 or $10 per month could provide a balanced mix of features and accessibility.</p><p>And for the professionals who demand the highest level of creative freedom and output, a pro version priced between $100â€“400 per month could grant full access to the model&rsquo;s capabilities, catering to their extensive needs.</p><a href=#the-future-a-symphony-of-technology-and-commerce><h4 id=the-future-a-symphony-of-technology-and-commerce><span class=hanchor arialabel=Anchor># </span>The Future: A Symphony of Technology and Commerce</h4></a><p>This venture isn&rsquo;t just about selling a product; it&rsquo;s about pioneering a new form of musical expression and making it widely available. It&rsquo;s about bridging the gap between advanced AI technology and everyday creativity. With the right execution, this could mark the beginning of a new era in music creation, where AI becomes an integral tool in the artist&rsquo;s palette, accessible to all who seek to explore the boundless realms of musical creativity.</p><p>As I conclude this project, I find myself at the threshold of an exciting new venture, one that combines my passion for technology and music with the practicalities of business. It&rsquo;s time to take this journey to the next stage and see where it can lead in the world of AI and music.</p><p>Michael ðŸŽµðŸ’¡ðŸš€</p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://notes.smolkin.org/js/graph.6579af7b10c818dbd2ca038702db0224.js></script></div></div><div id=contact_buttons><footer><p>Made by M using <a href=https://smolkin.org/>Obsidian and Quartz</a>, Â© 2024</p><ul><li><a href=https://notes.smolkin.org/>Home</a></li><li><a href=https://twitter.com/MichaelSmolkin>X</a></li><li><a href=https://github.com/msmolkin>GitHub</a></li><li><a href=https://github.com/msmolkin1>GH2</a></li><li><a href=https://michael.smolkin.org/>About</a></li></ul></footer></div></div></body></html>